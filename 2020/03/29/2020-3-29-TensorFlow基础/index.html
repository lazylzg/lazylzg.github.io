

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Lee">
  <meta name="keywords" content="">
  <title>TensorFlowåŸºç¡€ - Lee</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />
  

  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_6peoq002giu.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->


  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Lee's blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                å‹é“¾
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>

            
              
  <div class="mt-3 post-meta">
    <i class="iconfont icon-date-fill" aria-hidden="true"></i>
    <time datetime="2020-03-29 15:52" pubdate>
      2020å¹´3æœˆ29æ—¥ ä¸‹åˆ
    </time>
  </div>


<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      3.9k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      61
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">TensorFlowåŸºç¡€</h1>
            
            <div class="markdown-body" id="post-body">
              <h1 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h1><h2 id="æ•°å€¼ç±»å‹"><a href="#æ•°å€¼ç±»å‹" class="headerlink" title="æ•°å€¼ç±»å‹"></a>æ•°å€¼ç±»å‹</h2><ul>
<li>  æ ‡é‡ï¼ˆScalarï¼‰ï¼Œå•ä¸ªå®æ•°ï¼Œå¦‚1.2,3,4ç­‰ï¼Œç»´åº¦ï¼ˆDimensionï¼‰æ•°ä¸º0ï¼Œshapeä¸º[]ã€‚</li>
</ul>
<pre><code class="hljs python"><span class="hljs-comment"># python è¯­è¨€åˆ›å»ºæ ‡é‡</span>
a = <span class="hljs-number">1.2</span>
<span class="hljs-comment"># TensorFlow åˆ›å»ºæ ‡é‡</span>
aa = tf.constant(<span class="hljs-number">1.2</span>)
print(<span class="hljs-built_in">type</span>(a), <span class="hljs-built_in">type</span>(aa), tf.is_tensor(a))
<span class="hljs-comment">#&lt;class &#x27;float&#x27;&gt; &lt;class &#x27;tensorflow.python.framework.ops.EagerTensor&#x27;&gt; False</span></code></pre>

<ul>
<li>  å‘é‡ï¼ˆVectorï¼‰ï¼Œnä¸ªå®æ•°çš„æœ‰åºé›†åˆï¼Œå¦‚[1.2]ï¼Œ[1, 2, 3, 4]ç­‰ï¼Œç»´åº¦ä¸º1ï¼Œé•¿åº¦ä¸å®šã€‚</li>
</ul>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»º1ä¸ªå…ƒç´ çš„å‘é‡</span>
a = tf.constant([<span class="hljs-number">1.1</span>])
print(a, a.shape)
<span class="hljs-comment"># åˆ›å»º3ä¸ªå…ƒç´ çš„å‘é‡</span>
b = tf.constant([<span class="hljs-number">1.</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3.3</span>])
print(b, b.shape)
<span class="hljs-comment">#tf.Tensor([1.1], shape=(1,), dtype=float32) (1,)</span>
<span class="hljs-comment">#tf.Tensor([1.  2.  3.3], shape=(3,), dtype=float32) (3,)</span></code></pre>

<ul>
<li>  çŸ©é˜µï¼ˆMatrixï¼‰ï¼Œnè¡Œmåˆ—å®æ•°é›†åˆï¼Œå¦‚[[1, 2], [3, 4]]</li>
</ul>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»º2è¡Œ2åˆ—çš„çŸ©é˜µ</span>
c = tf.constant([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])
print(c, c.shape)
<span class="hljs-comment">#tf.Tensor(</span>
<span class="hljs-comment">#[[1 2]</span>
<span class="hljs-comment"># [3 4]], shape=(2, 2), dtype=int32) (2, 2)</span></code></pre>

<ul>
<li>  å¼ é‡ï¼ˆTensorï¼‰ï¼Œæ‰€æœ‰ç»´åº¦æ•°å¤§äº2çš„æ•°ç»„ç»Ÿç§°å¼ é‡ã€‚</li>
</ul>
<pre><code class="hljs python">x = tf.constant([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3.0</span>])
print(x)
<span class="hljs-comment"># å°† tf å¼ é‡çš„æ•°æ®å¯¼å‡ºä¸º numpy æ•°ç»„æ ¼å¼</span>
print(x.numpy())
<span class="hljs-comment">#tf.Tensor([1. 2. 3.], shape=(3,), dtype=float32)</span>
<span class="hljs-comment">#[1. 2. 3.]</span></code></pre>

<h2 id="å­—ç¬¦ä¸²ç±»å‹"><a href="#å­—ç¬¦ä¸²ç±»å‹" class="headerlink" title="å­—ç¬¦ä¸²ç±»å‹"></a>å­—ç¬¦ä¸²ç±»å‹</h2><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºå­—ç¬¦ä¸²</span>
s = tf.constant(<span class="hljs-string">&#x27;Hello World!&#x27;</span>)
print(s)
<span class="hljs-comment"># å°å†™åŒ–å­—ç¬¦ä¸²</span>
s = tf.strings.lower(s)
print(s)
<span class="hljs-comment">#tf.Tensor(b&#x27;Hello World!&#x27;, shape=(), dtype=string)</span>
<span class="hljs-comment">#tf.Tensor(b&#x27;hello world!&#x27;, shape=(), dtype=string)</span></code></pre>

<h2 id="å¸ƒå°”ç±»å‹"><a href="#å¸ƒå°”ç±»å‹" class="headerlink" title="å¸ƒå°”ç±»å‹"></a>å¸ƒå°”ç±»å‹</h2><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºå¸ƒå°”å‹æ ‡é‡</span>
a = tf.constant(<span class="hljs-literal">True</span>)
print(a)
<span class="hljs-comment"># åˆ›å»ºå¸ƒå°”å‹å‘é‡</span>
b = tf.constant([<span class="hljs-literal">True</span>, <span class="hljs-literal">False</span>])
print(b)
<span class="hljs-comment">#tf.Tensor(True, shape=(), dtype=bool)</span>
<span class="hljs-comment">#tf.Tensor([ True False], shape=(2,), dtype=bool)</span></code></pre>

<h1 id="æ•°å€¼ç²¾åº¦"><a href="#æ•°å€¼ç²¾åº¦" class="headerlink" title="æ•°å€¼ç²¾åº¦"></a>æ•°å€¼ç²¾åº¦</h1><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºæŒ‡å®šçš„å¼ é‡</span>
a = tf.constant(<span class="hljs-number">123456789</span>, dtype=tf.int16)
print(a)
b = tf.constant(<span class="hljs-number">123456789</span>, dtype=tf.int32)
print(b)
<span class="hljs-comment">#tf.Tensor(-13035, shape=(), dtype=int16)</span>
<span class="hljs-comment">#tf.Tensor(123456789, shape=(), dtype=int32)</span></code></pre>

<pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np

<span class="hljs-comment"># np.pi ä» numpy ä¸­å¯¼å…¥ pi å¸¸é‡</span>
<span class="hljs-comment"># 32ä½</span>
a = tf.constant(np.pi, dtype=tf.float32)
print(a)
<span class="hljs-comment"># 64ä½</span>
b = tf.constant(np.pi, dtype=tf.float64)
print(b)
<span class="hljs-comment">#tf.Tensor(3.1415927, shape=(), dtype=float32)</span>
<span class="hljs-comment">#tf.Tensor(3.141592653589793, shape=(), dtype=float64)</span></code></pre>

<h2 id="è¯»å–ç²¾åº¦"><a href="#è¯»å–ç²¾åº¦" class="headerlink" title="è¯»å–ç²¾åº¦"></a>è¯»å–ç²¾åº¦</h2><p>é€šè¿‡è®¿é—®å¼ é‡çš„ dtype æˆå‘˜å±æ€§å¯ä»¥åˆ¤æ–­å¼ é‡çš„ä¿å­˜ç²¾åº¦</p>
<pre><code class="hljs python">a = tf.constant(np.pi, dtype=tf.float16)
<span class="hljs-comment"># è¯»å–åŸæœ‰å¼ é‡çš„æ•°å€¼ç²¾åº¦</span>
print(<span class="hljs-string">&#x27;before:&#x27;</span>, a.dtype)
<span class="hljs-comment"># å¦‚æœç²¾åº¦ä¸ç¬¦åˆè¦æ±‚ï¼Œåˆ™è¿›è¡Œè½¬æ¢</span>
<span class="hljs-keyword">if</span> a.dtype != tf.float32:
    <span class="hljs-comment"># tf.cast å‡½æ•°å¯ä»¥å®Œæˆç²¾åº¦è½¬æ¢</span>
    a = tf.cast(a, tf.float32)
<span class="hljs-comment"># æ‰“å°è½¬æ¢åçš„ç²¾åº¦</span>
print(<span class="hljs-string">&#x27;after :&#x27;</span>, a.dtype)
<span class="hljs-comment">#before: &lt;dtype: &#x27;float16&#x27;&gt;</span>
<span class="hljs-comment">#after : &lt;dtype: &#x27;float32&#x27;&gt;</span></code></pre>

<h2 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h2><p>é€šè¿‡ tf.cast å‡½æ•°è¿›è¡Œè½¬æ¢</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºtf.float16 ä½ç²¾åº¦å¼ é‡</span>
a = tf.constant(np.pi, dtype=tf.float16)
<span class="hljs-comment"># è½¬æ¢ä¸ºé«˜ç²¾åº¦å¼ é‡</span>
tf.cast(a, tf.double)
<span class="hljs-comment">#Out[32]: &lt;tf.Tensor: shape=(), dtype=float64, numpy=3.140625&gt;</span></code></pre>

<p>è¿›è¡Œç±»å‹è½¬æ¢æ—¶ï¼Œéœ€è¦ä¿è¯è½¬æ¢æ“ä½œçš„åˆæ³•æ€§ï¼Œä¾‹å¦‚å°†é«˜ç²¾åº¦çš„å¼ é‡è½¬æ¢ä¸ºä½ç²¾åº¦çš„å¼ é‡<br>æ—¶ï¼Œå¯èƒ½å‘ç”Ÿæ•°æ®æº¢å‡ºéšæ‚£ï¼š</p>
<pre><code class="hljs python">a = tf.constant(<span class="hljs-number">123456789</span>, dtype=tf.int32)
<span class="hljs-comment"># è½¬æ¢ä¸ºä½ç²¾åº¦æ•´å‹</span>
tf.cast(a, tf.int16)
<span class="hljs-comment">#Out[33]: &lt;tf.Tensor: shape=(), dtype=int16, numpy=-13035&gt;</span></code></pre>

<h1 id="å¾…ä¼˜åŒ–å¼ é‡"><a href="#å¾…ä¼˜åŒ–å¼ é‡" class="headerlink" title="å¾…ä¼˜åŒ–å¼ é‡"></a>å¾…ä¼˜åŒ–å¼ é‡</h1><p>ä¸ºäº†åŒºåˆ†éœ€è¦è®¡ç®—æ¢¯åº¦ä¿¡æ¯çš„å¼ é‡ä¸ä¸éœ€è¦è®¡ç®—æ¢¯åº¦ä¿¡æ¯çš„å¼ é‡ï¼ŒTensorFlow å¢åŠ äº†ä¸€ç§ä¸“é—¨çš„æ•°æ®ç±»å‹æ¥æ”¯æŒæ¢¯åº¦ä¿¡æ¯çš„è®°å½•ï¼štf.Variableã€‚tf.Variable ç±»å‹åœ¨æ™®é€šçš„å¼ é‡ç±»å‹åŸºç¡€ä¸Šæ·»åŠ äº†nameï¼Œtrainable ç­‰å±æ€§æ¥æ”¯æŒè®¡ç®—å›¾çš„æ„å»ºã€‚ç”±äºæ¢¯åº¦è¿ç®—ä¼šæ¶ˆè€—å¤§é‡çš„è®¡ç®—èµ„æºï¼Œè€Œä¸”ä¼šè‡ªåŠ¨æ›´æ–°ç›¸å…³å‚æ•°ï¼Œå¯¹äºä¸éœ€è¦çš„ä¼˜åŒ–çš„å¼ é‡ï¼Œå¦‚ç¥ç»ç½‘ç»œçš„è¾“å…¥ğ‘¿ï¼Œä¸éœ€è¦é€šè¿‡tf.Variable å°è£…ï¼›ç›¸åï¼Œå¯¹äºéœ€è¦è®¡ç®—æ¢¯åº¦å¹¶ä¼˜åŒ–çš„å¼ é‡ï¼Œå¦‚ç¥ç»ç½‘ç»œå±‚çš„ğ‘¾å’Œğ’ƒï¼Œéœ€è¦é€šè¿‡tf.Variable åŒ…è£¹ä»¥ä¾¿TensorFlow è·Ÿè¸ªç›¸å…³æ¢¯åº¦ä¿¡æ¯ã€‚</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºTF å¼ é‡</span>
a = tf.constant([-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>])
<span class="hljs-comment"># è½¬æ¢ä¸ºVariable ç±»å‹</span>
aa = tf.Variable(a)
<span class="hljs-comment"># Variable ç±»å‹å¼ é‡çš„å±æ€§</span>
aa.name, aa.trainable
<span class="hljs-comment">#Out[35]: (&#x27;Variable:0&#x27;, True)</span></code></pre>

<p>å…¶ä¸­å¼ é‡çš„name å’Œtrainable å±æ€§æ˜¯Variable ç‰¹æœ‰çš„å±æ€§ï¼Œname å±æ€§ç”¨äºå‘½åè®¡ç®—å›¾ä¸­çš„å˜é‡ï¼Œè¿™å¥—å‘½åä½“ç³»æ˜¯ TensorFlow å†…éƒ¨ç»´æŠ¤çš„ï¼Œä¸€èˆ¬ä¸éœ€è¦ç”¨æˆ·å…³æ³¨name å±æ€§ï¼›trainable å±æ€§è¡¨å¾å½“å‰å¼ é‡æ˜¯å¦éœ€è¦è¢«ä¼˜åŒ–ï¼Œåˆ›å»º Variable å¯¹è±¡æ—¶æ˜¯é»˜è®¤å¯ç”¨ä¼˜åŒ–æ ‡å¿—ï¼Œå¯ä»¥è®¾ç½® trainable=False æ¥è®¾ç½®å¼ é‡ä¸éœ€è¦ä¼˜åŒ–ã€‚</p>
<p>é™¤äº†é€šè¿‡æ™®é€šå¼ é‡æ–¹å¼åˆ›å»ºVariableï¼Œä¹Ÿå¯ä»¥ç›´æ¥åˆ›å»ºï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># ç›´æ¥åˆ›å»ºVariable å¼ é‡</span>
tf.Variable([[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]])
<span class="hljs-comment">#&lt;tf.Variable &#x27;Variable:0&#x27; shape=(2, 2) dtype=int32, numpy=</span>
<span class="hljs-comment">#array([[1, 2],</span>
<span class="hljs-comment">#       [3, 4]])&gt;</span></code></pre>

<h1 id="åˆ›å»ºå¼ é‡"><a href="#åˆ›å»ºå¼ é‡" class="headerlink" title="åˆ›å»ºå¼ é‡"></a>åˆ›å»ºå¼ é‡</h1><h2 id="ä»æ•°ç»„ã€åˆ—è¡¨å¯¹è±¡åˆ›å»º"><a href="#ä»æ•°ç»„ã€åˆ—è¡¨å¯¹è±¡åˆ›å»º" class="headerlink" title="ä»æ•°ç»„ã€åˆ—è¡¨å¯¹è±¡åˆ›å»º"></a>ä»æ•°ç»„ã€åˆ—è¡¨å¯¹è±¡åˆ›å»º</h2><p>é€šè¿‡ tf.convert_to_tensor å‡½æ•°å¯ä»¥åˆ›å»ºæ–°Tensorï¼Œå¹¶å°†ä¿å­˜åœ¨Python List å¯¹è±¡æˆ–è€… Numpy Array å¯¹è±¡ä¸­çš„æ•°æ®å¯¼å…¥åˆ°æ–°Tensor ä¸­ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># ä»åˆ—è¡¨åˆ›å»ºå¼ é‡</span>
tf.convert_to_tensor([<span class="hljs-number">1</span>, <span class="hljs-number">2.</span>])
<span class="hljs-comment"># ä»æ•°ç»„ä¸­åˆ›å»ºå¼ é‡</span>
tf.convert_to_tensor(np.array([[<span class="hljs-number">1</span>, <span class="hljs-number">2.</span>], [<span class="hljs-number">3</span>, <span class="hljs-number">4</span>]]))
<span class="hljs-comment">#Out[39]: &lt;tf.Tensor: shape=(2,), dtype=float32, numpy=array([1., 2.], dtype=float32)&gt;</span>
<span class="hljs-comment">#Out[40]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 2), dtype=float64, numpy=</span>
<span class="hljs-comment">#array([[1., 2.],</span>
<span class="hljs-comment">#       [3., 4.]])&gt;</span></code></pre>

<h2 id="åˆ›å»ºå…¨0-æˆ–å…¨1-å¼ é‡"><a href="#åˆ›å»ºå…¨0-æˆ–å…¨1-å¼ é‡" class="headerlink" title="åˆ›å»ºå…¨0 æˆ–å…¨1 å¼ é‡"></a>åˆ›å»ºå…¨0 æˆ–å…¨1 å¼ é‡</h2><p>é€šè¿‡ tf.zeros() å’Œ tf.ones() å³å¯åˆ›å»ºä»»æ„å½¢çŠ¶ï¼Œä¸”å†…å®¹å…¨0 æˆ–å…¨1 çš„å¼ é‡ã€‚</p>
<p>åˆ›å»ºä¸º0 å’Œä¸º1 çš„æ ‡é‡ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºå…¨0ï¼Œå…¨1 çš„æ ‡é‡</span>
tf.zeros([]), tf.ones([])
<span class="hljs-comment">#Out[43]: </span>
<span class="hljs-comment">#(&lt;tf.Tensor: shape=(), dtype=float32, numpy=0.0&gt;,</span>
<span class="hljs-comment"># &lt;tf.Tensor: shape=(), dtype=float32, numpy=1.0&gt;)</span></code></pre>

<p>åˆ›å»ºå…¨ 0 å’Œå…¨1 çš„å‘é‡ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºå…¨0ï¼Œå…¨1 çš„å‘é‡</span>
tf.zeros([<span class="hljs-number">1</span>]), tf.ones([<span class="hljs-number">1</span>])
<span class="hljs-comment">#Out[44]: </span>
<span class="hljs-comment">#(&lt;tf.Tensor: shape=(1,), dtype=float32, numpy=array([0.], dtype=float32)&gt;,</span>
<span class="hljs-comment"># &lt;tf.Tensor: shape=(1,), dtype=float32, numpy=array([1.], dtype=float32)&gt;)</span></code></pre>

<p>åˆ›å»ºå…¨ 0 å’Œå…¨1 çš„çŸ©é˜µï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºå…¨ 0 å’Œå…¨1 çš„çŸ©é˜µ</span>
tf.zeros([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>]), tf.ones([<span class="hljs-number">3</span>, <span class="hljs-number">2</span>])
<span class="hljs-comment">#Out[45]: </span>
<span class="hljs-comment">#(&lt;tf.Tensor: shape=(2, 2), dtype=float32, numpy=</span>
<span class="hljs-comment"># array([[0., 0.],</span>
<span class="hljs-comment">#        [0., 0.]], dtype=float32)&gt;,</span>
<span class="hljs-comment"># &lt;tf.Tensor: shape=(3, 2), dtype=float32, numpy=</span>
<span class="hljs-comment"># array([[1., 1.],</span>
<span class="hljs-comment">#        [1., 1.],</span>
<span class="hljs-comment">#        [1., 1.]], dtype=float32)&gt;)</span></code></pre>

<p>é€šè¿‡ tf.zeros_likeï¼Œtf.ones_like å¯ä»¥æ–¹ä¾¿åœ°<strong>æ–°å»º</strong>ä¸æŸä¸ªå¼ é‡shape ä¸€è‡´ï¼Œä¸”å†…å®¹ä¸ºå…¨0 æˆ–å…¨1 çš„å¼ é‡ã€‚</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçŸ©é˜µ</span>
a = tf.ones([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªçŸ©é˜µ</span>
b = tf.zeros([<span class="hljs-number">3</span>, <span class="hljs-number">2</span>])
<span class="hljs-comment"># åˆ›å»ºä¸€ä¸ªä¸a å½¢çŠ¶ç›¸åŒï¼Œä½†æ˜¯å…¨0 çš„æ–°çŸ©é˜µ</span>
tf.zeros_like(a), tf.ones_like(a)
<span class="hljs-comment">#Out[47]: </span>
<span class="hljs-comment">#(&lt;tf.Tensor: shape=(2, 3), dtype=float32, numpy=</span>
<span class="hljs-comment"># array([[0., 0., 0.],</span>
<span class="hljs-comment">#        [0., 0., 0.]], dtype=float32)&gt;,</span>
<span class="hljs-comment"># &lt;tf.Tensor: shape=(2, 3), dtype=float32, numpy=</span>
<span class="hljs-comment"># array([[1., 1., 1.],</span>
<span class="hljs-comment">#        [1., 1., 1.]], dtype=float32)&gt;)</span></code></pre>

<h2 id="åˆ›å»ºè‡ªå®šä¹‰æ•°å€¼å¼ é‡"><a href="#åˆ›å»ºè‡ªå®šä¹‰æ•°å€¼å¼ é‡" class="headerlink" title="åˆ›å»ºè‡ªå®šä¹‰æ•°å€¼å¼ é‡"></a>åˆ›å»ºè‡ªå®šä¹‰æ•°å€¼å¼ é‡</h2><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»º-1 çš„æ ‡é‡</span>
tf.fill([], -<span class="hljs-number">1</span>)
<span class="hljs-comment">#Out[48]: &lt;tf.Tensor: shape=(), dtype=int32, numpy=-1&gt;</span>

<span class="hljs-comment"># åˆ›å»º-1 çš„å‘é‡</span>
tf.fill([<span class="hljs-number">1</span>], -<span class="hljs-number">1</span>)
<span class="hljs-comment">#Out[49]: &lt;tf.Tensor: shape=(1,), dtype=int32, numpy=array([-1])&gt;</span>

<span class="hljs-comment"># åˆ›å»º2 è¡Œ2 åˆ—ï¼Œå…ƒç´ å…¨ä¸º99 çš„çŸ©é˜µ</span>
tf.fill([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], <span class="hljs-number">99</span>)
<span class="hljs-comment">#Out[50]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=</span>
<span class="hljs-comment">#array([[99, 99],</span>
<span class="hljs-comment">#       [99, 99]])&gt;</span></code></pre>

<h2 id="åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡"><a href="#åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡" class="headerlink" title="åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡"></a>åˆ›å»ºå·²çŸ¥åˆ†å¸ƒçš„å¼ é‡</h2><p>é€šè¿‡ tf.random.normal(shape, mean=0.0, stddev = 1.0)å¯ä»¥åˆ›å»ºå½¢çŠ¶ä¸ºshapeï¼Œå‡å€¼ä¸º meanï¼Œæ ‡å‡†å·®ä¸ºstddev çš„æ­£æ€åˆ†å¸ƒğ’©(mean, stddev2)ã€‚</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºæ ‡å‡†æ­£æ€åˆ†å¸ƒçš„å¼ é‡</span>
tf.random.normal([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>])
<span class="hljs-comment">#Out[51]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 2), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[ 0.5267555 ,  1.0245267 ],</span>
<span class="hljs-comment">#       [-0.38253555, -1.3879421 ]], dtype=float32)&gt;</span>

<span class="hljs-comment"># åˆ›å»ºå‡å€¼ä¸º1ï¼Œæ ‡å‡†å·®ä¸º2 çš„æ­£æ€åˆ†å¸ƒ</span>
tf.random.normal([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], mean=<span class="hljs-number">1</span>, stddev=<span class="hljs-number">2</span>)
<span class="hljs-comment">#Out[52]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 2), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[-1.3101618,  2.3768656],</span>
<span class="hljs-comment">#       [ 3.5436885,  1.8762882]], dtype=float32)&gt;</span></code></pre>

<p>é€šè¿‡ tf.random.uniform(shape, minval=0, maxval=None, dtype=tf.float32)å¯ä»¥åˆ›å»ºé‡‡æ ·è‡ª[minval, maxval)åŒºé—´çš„å‡åŒ€åˆ†å¸ƒçš„å¼ é‡ã€‚</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºé‡‡æ ·è‡ª[0,1)å‡åŒ€åˆ†å¸ƒçš„çŸ©é˜µ</span>
tf.random.uniform([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>])
<span class="hljs-comment">#Out[53]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 2), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[0.54303396, 0.8830224 ],</span>
<span class="hljs-comment">#       [0.29734194, 0.94715846]], dtype=float32)&gt;</span>

<span class="hljs-comment"># åˆ›å»ºé‡‡æ ·è‡ªåŒºé—´[0,10)ï¼Œshape ä¸º[2,2]çš„çŸ©é˜µ</span>
tf.random.uniform([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], maxval=<span class="hljs-number">10</span>)
<span class="hljs-comment">#Out[58]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 2), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[5.781268 , 8.726329 ],</span>
<span class="hljs-comment">#       [1.5149117, 8.840149 ]], dtype=float32)&gt;</span></code></pre>

<p>å¦‚æœéœ€è¦å‡åŒ€é‡‡æ ·æ•´å½¢ç±»å‹çš„æ•°æ®ï¼Œå¿…é¡»æŒ‡å®šé‡‡æ ·åŒºé—´çš„æœ€å¤§å€¼ maxval å‚æ•°ï¼ŒåŒæ—¶æŒ‡å®šæ•°æ®ç±»å‹ä¸º tf.int* å‹ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºé‡‡æ ·è‡ª[0,100)å‡åŒ€åˆ†å¸ƒçš„æ•´å‹çŸ©é˜µ</span>
tf.random.uniform([<span class="hljs-number">2</span>, <span class="hljs-number">2</span>], maxval=<span class="hljs-number">100</span>, dtype=tf.int32)
<span class="hljs-comment">#Out[59]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 2), dtype=int32, numpy=</span>
<span class="hljs-comment">#array([[76, 86],</span>
<span class="hljs-comment">#       [53, 28]])&gt;</span></code></pre>

<h2 id="åˆ›å»ºåºåˆ—"><a href="#åˆ›å»ºåºåˆ—" class="headerlink" title="åˆ›å»ºåºåˆ—"></a>åˆ›å»ºåºåˆ—</h2><pre><code class="hljs python"><span class="hljs-comment"># 0~10ï¼Œä¸åŒ…å«10</span>
tf.<span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>)
<span class="hljs-comment">#Out[60]: &lt;tf.Tensor: shape=(10,), dtype=int32, numpy=array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])&gt;</span>

<span class="hljs-comment"># 0~10ï¼Œæ­¥é•¿ä¸º2</span>
tf.<span class="hljs-built_in">range</span>(<span class="hljs-number">10</span>, delta=<span class="hljs-number">2</span>)
<span class="hljs-comment">#Out[61]: &lt;tf.Tensor: shape=(5,), dtype=int32, numpy=array([0, 2, 4, 6, 8])&gt;</span>

<span class="hljs-comment"># 2~10</span>
tf.<span class="hljs-built_in">range</span>(<span class="hljs-number">2</span>, <span class="hljs-number">10</span>, delta=<span class="hljs-number">2</span>)
<span class="hljs-comment">#Out[62]: &lt;tf.Tensor: shape=(4,), dtype=int32, numpy=array([2, 4, 6, 8])&gt;</span></code></pre>

<h1 id="ç´¢å¼•ä¸åˆ‡ç‰‡"><a href="#ç´¢å¼•ä¸åˆ‡ç‰‡" class="headerlink" title="ç´¢å¼•ä¸åˆ‡ç‰‡"></a>ç´¢å¼•ä¸åˆ‡ç‰‡</h1><h2 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h2><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»º4Då¼ é‡</span>
x = tf.random.normal([<span class="hljs-number">4</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>])

<span class="hljs-comment"># å–ç¬¬1å¼ å›¾ç‰‡çš„æ•°æ®</span>
x[<span class="hljs-number">0</span>]
<span class="hljs-comment">#Out[3]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(32, 32, 3), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[[-4.22283739e-01,  1.12282026e+00,  5.82848310e-01],</span>
<span class="hljs-comment">#        [-1.11039448e+00,  8.52484107e-01, -7.36349642e-01],</span>
<span class="hljs-comment">#        [-4.43234473e-01, -7.96303034e-01, -1.39369264e-01],</span>
<span class="hljs-comment">#        ...,</span>
<span class="hljs-comment">#        [ 3.56604964e-01,  1.80101013e+00,  1.25016725e+00],</span>
<span class="hljs-comment">#        [ 1.87405634e+00, -4.38889146e-01, -1.64619851e+00],</span>
<span class="hljs-comment">#        [ 1.48716550e-02,  9.12306726e-01, -1.21598518e+00]]],</span>
<span class="hljs-comment">#      dtype=float32)&gt;</span>

<span class="hljs-comment"># å–ç¬¬1å¼ å›¾ç‰‡çš„ç¬¬2è¡Œ</span>
x[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]
<span class="hljs-comment">#Out[4]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(32, 3), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[ 1.5910356e+00, -8.5894281e-01,  4.5708373e-01],</span>
<span class="hljs-comment">#       [ 7.9057968e-01, -1.3268896e+00,  1.1165951e+00],</span>
<span class="hljs-comment">#       [ 9.6109343e-01,  2.2252908e-01, -7.0836329e-01],...,</span>
<span class="hljs-comment">#       [-5.8272004e-01,  7.4958265e-01, -3.2686439e-01]], dtype=float32)&gt;</span>

<span class="hljs-comment"># å–ç¬¬1å¼ å›¾ç‰‡çš„ç¬¬2è¡Œçš„ç¬¬3åˆ—</span>
x[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>][<span class="hljs-number">3</span>]
<span class="hljs-comment">#Out[5]: &lt;tf.Tensor: shape=(3,), dtype=float32, numpy=array([-3.439938 ,  0.7158939, -0.2061273], dtype=float32)&gt;</span>

<span class="hljs-comment"># å–ç¬¬3å¼ å›¾ç‰‡ï¼Œç¬¬2è¡Œï¼Œç¬¬1åˆ—çš„åƒç´ ï¼ŒB é€šé“(ç¬¬2 ä¸ªé€šé“)é¢œè‰²å¼ºåº¦å€¼</span>
x[<span class="hljs-number">2</span>][<span class="hljs-number">1</span>][<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]
<span class="hljs-comment">#Out[7]: &lt;tf.Tensor: shape=(), dtype=float32, numpy=1.1827037&gt;</span></code></pre>

<p>å½“å¼ é‡çš„ç»´åº¦æ•°è¾ƒé«˜æ—¶ï¼Œä½¿ç”¨[ğ‘–][ğ‘—]. . . [ğ‘˜]çš„æ–¹å¼ä¹¦å†™ä¸æ–¹ä¾¿ï¼Œå¯ä»¥é‡‡ç”¨[ğ‘–, ğ‘—, â€¦ , ğ‘˜]çš„æ–¹ç´¢å¼•ï¼Œå®ƒä»¬æ˜¯ç­‰ä»·çš„ã€‚</p>
<h2 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h2><p>é€šè¿‡start: end: stepåˆ‡ç‰‡æ–¹å¼å¯ä»¥æ–¹ä¾¿åœ°æå–ä¸€æ®µæ•°æ®ï¼Œå…¶ä¸­start ä¸ºå¼€å§‹è¯»å–ä½ç½®çš„ç´¢å¼•ï¼Œend ä¸ºç»“æŸè¯»å–ä½ç½®çš„ç´¢å¼•(ä¸åŒ…å«end ä½)ï¼Œstep ä¸ºé‡‡æ ·æ­¥é•¿ã€‚</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»º4Då¼ é‡</span>
x = tf.random.normal([<span class="hljs-number">4</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>])

<span class="hljs-comment"># è¯»å–ç¬¬2,3 å¼ å›¾ç‰‡</span>
x[<span class="hljs-number">1</span>:<span class="hljs-number">3</span>]
<span class="hljs-comment">#Out[8]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 32, 32, 3), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[[[-0.5387477 , -0.98211324,  0.3736743 ],</span>
<span class="hljs-comment">#         [-1.5512782 , -1.2625393 ,  0.12689345],</span>
<span class="hljs-comment">#         [ 0.933382  ,  0.23778425, -1.4852659 ],</span>
<span class="hljs-comment">#         ...,</span></code></pre>

<p>start: end: stepåˆ‡ç‰‡æ–¹å¼æœ‰å¾ˆå¤šç®€å†™æ–¹å¼ï¼Œå…¶ä¸­startã€endã€step 3 ä¸ªå‚æ•°å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©æ€§åœ°çœç•¥ï¼Œå…¨éƒ¨çœç•¥æ—¶å³ä¸º::ï¼Œè¡¨ç¤ºä»æœ€å¼€å§‹è¯»å–åˆ°æœ€æœ«å°¾ï¼Œæ­¥é•¿ä¸º1ï¼Œå³ä¸è·³è¿‡ä»»ä½•å…ƒç´ ã€‚å¦‚x[0,::]è¡¨ç¤ºè¯»å–ç¬¬1 å¼ å›¾ç‰‡çš„æ‰€æœ‰è¡Œï¼Œå…¶ä¸­::è¡¨ç¤ºåœ¨è¡Œç»´åº¦ä¸Šè¯»å–æ‰€æœ‰è¡Œï¼Œå®ƒç­‰ä»·äºx[0]çš„å†™æ³•ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># å–ç¬¬1å¼ å›¾ç‰‡</span>
x[<span class="hljs-number">0</span>, ::]
<span class="hljs-comment">#Out[9]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(32, 32, 3), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[[ 0.25870258,  0.20981076,  0.31078792],</span>
<span class="hljs-comment">#        [-0.17310825, -0.2321168 ,  1.4408395 ],</span>
<span class="hljs-comment">#        [ 0.47256398,  1.8767792 , -0.41517937],</span>
<span class="hljs-comment">#        ...,</span>

x[:,<span class="hljs-number">0</span>:<span class="hljs-number">28</span>:<span class="hljs-number">2</span>, <span class="hljs-number">0</span>:<span class="hljs-number">28</span>:<span class="hljs-number">2</span>, :]
<span class="hljs-comment">#Out[10]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(4, 14, 14, 3), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[[[ 0.25870258,  0.20981076,  0.31078792],</span>
<span class="hljs-comment">#         [ 0.47256398,  1.8767792 , -0.41517937],</span>
<span class="hljs-comment">#         [-1.4870992 ,  0.77554166,  0.74479437],</span>
<span class="hljs-comment">#         ...,</span></code></pre>

<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»º0~9 å‘é‡</span>
x = tf.<span class="hljs-built_in">range</span>(<span class="hljs-number">9</span>)
<span class="hljs-comment"># ä»8 å–åˆ°0ï¼Œé€†åºï¼Œä¸åŒ…å«0</span>
x[<span class="hljs-number">8</span>:<span class="hljs-number">0</span>:-<span class="hljs-number">1</span>] 
<span class="hljs-comment">#Out[11]: &lt;tf.Tensor: shape=(8,), dtype=int32, numpy=array([8, 7, 6, 5, 4, 3, 2, 1])&gt;</span>

<span class="hljs-comment"># é€†åºå…¨éƒ¨å…ƒç´ </span>
x[::-<span class="hljs-number">1</span>]
<span class="hljs-comment">#Out[12]: &lt;tf.Tensor: shape=(9,), dtype=int32, numpy=array([8, 7, 6, 5, 4, 3, 2, 1, 0])&gt;</span>

<span class="hljs-comment"># é€†åºé—´éš”é‡‡æ ·</span>
x[::-<span class="hljs-number">2</span>]
<span class="hljs-comment">#Out[13]: &lt;tf.Tensor: shape=(5,), dtype=int32, numpy=array([8, 6, 4, 2, 0])&gt;</span></code></pre>

<p>è¯»å–æ¯å¼ å›¾ç‰‡çš„æ‰€æœ‰é€šé“ï¼Œå…¶ä¸­è¡ŒæŒ‰ç€é€†åºéš”è¡Œé‡‡æ ·ï¼Œåˆ—æŒ‰ç€é€†åºéš”è¡Œé‡‡æ ·ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»º4Då¼ é‡</span>
x = tf.random.normal([<span class="hljs-number">4</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>])
<span class="hljs-comment"># è¡Œã€åˆ—é€†åºé—´éš”é‡‡æ ·</span>
x[<span class="hljs-number">0</span>, ::-<span class="hljs-number">2</span>, ::-<span class="hljs-number">2</span>]

<span class="hljs-comment">#Out[14]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(16, 16, 3), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[[-6.40726149e-01, -1.64043710e-01, -4.14758682e-01],</span>
<span class="hljs-comment">#        [ 8.83031189e-01, -2.15735650e+00,  7.45904207e-01],...,</span>
<span class="hljs-comment">#        [ 1.77812195e+00, -4.44908082e-01,  1.71278393e+00],</span>
<span class="hljs-comment">#        [-9.77649391e-02, -2.56478786e-02,  1.69697809e+00]],...,</span>
<span class="hljs-comment">#       [[-1.24988317e+00, -4.40455347e-01, -9.40938056e-01],</span>
<span class="hljs-comment">#        [-3.51193339e-01, -1.69094354e-01, -1.55378059e-01],...,</span>
<span class="hljs-comment">#        [ 7.84459472e-01, -1.39909377e-02, -5.95526159e-01],</span>
<span class="hljs-comment">#        [-9.41911936e-01, -1.30074513e+00, -6.23348076e-03]]],</span>
<span class="hljs-comment">#      dtype=float32)&gt;</span>

<span class="hljs-comment"># å–G é€šé“æ•°æ®</span>
x[:, :, :, <span class="hljs-number">1</span>]
<span class="hljs-comment">#Out[15]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(4, 32, 32), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[[ 1.0090125 , -0.24564391,  0.5095773 , ...,  1.5169894 ,</span>
<span class="hljs-comment">#         -0.18337473, -1.5871915 ],</span>
<span class="hljs-comment">#        [ 0.17341255, -1.3007451 , -1.2544614 , ..., -0.16909435,</span>
<span class="hljs-comment">#         -1.8166164 , -0.44045535],</span>
<span class="hljs-comment">#        [-0.5260793 ,  0.34341118, -0.83735013, ..., -0.14702302,</span>
<span class="hljs-comment">#         -1.0870305 , -0.30651042],</span>
<span class="hljs-comment">#        ...,</span>

x[..., <span class="hljs-number">1</span>]
<span class="hljs-comment">#Out[16]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(4, 32, 32), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[[ 1.0090125 , -0.24564391,  0.5095773 , ...,  1.5169894 ,</span>
<span class="hljs-comment">#         -0.18337473, -1.5871915 ],</span>
<span class="hljs-comment">#        [ 0.17341255, -1.3007451 , -1.2544614 , ..., -0.16909435,</span>
<span class="hljs-comment">#         -1.8166164 , -0.44045535],</span>
<span class="hljs-comment">#        [-0.5260793 ,  0.34341118, -0.83735013, ..., -0.14702302,</span>
<span class="hljs-comment">#         -1.0870305 , -0.30651042],</span>
<span class="hljs-comment">#        ...,</span></code></pre>

<h1 id="ç»´åº¦å˜æ¢"><a href="#ç»´åº¦å˜æ¢" class="headerlink" title="ç»´åº¦å˜æ¢"></a>ç»´åº¦å˜æ¢</h1><h2 id="æ”¹å˜è¯•å›¾"><a href="#æ”¹å˜è¯•å›¾" class="headerlink" title="æ”¹å˜è¯•å›¾"></a>æ”¹å˜è¯•å›¾</h2><pre><code class="hljs python"><span class="hljs-comment"># ç”Ÿæˆå‘é‡</span>
x = tf.<span class="hljs-built_in">range</span>(<span class="hljs-number">96</span>)
<span class="hljs-comment"># æ”¹å˜x çš„è§†å›¾ï¼Œè·å¾—4D å¼ é‡ï¼Œå­˜å‚¨å¹¶æœªæ”¹å˜</span>
tf.reshape(x, [<span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>, <span class="hljs-number">3</span>])
<span class="hljs-comment">#Out[5]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 4, 4, 3), dtype=int32, numpy=</span>
<span class="hljs-comment">#array([[[[ 0,  1,  2],</span>
<span class="hljs-comment">#         [ 3,  4,  5],</span>
<span class="hljs-comment">#         [ 6,  7,  8],</span>
<span class="hljs-comment">#         [ 9, 10, 11]],</span>
<span class="hljs-comment">#         ...,</span>
<span class="hljs-comment">#        [[84, 85, 86],</span>
<span class="hljs-comment">#         [87, 88, 89],</span>
<span class="hljs-comment">#         [90, 91, 92],</span>
<span class="hljs-comment">#         [93, 94, 95]]]])&gt;</span></code></pre>

<p>åœ¨ TensorFlow ä¸­ï¼Œå¯ä»¥é€šè¿‡å¼ é‡çš„ndim å’Œshape æˆå‘˜å±æ€§è·å¾—å¼ é‡çš„ç»´åº¦æ•°å’Œå½¢çŠ¶ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># è·å–å¼ é‡çš„ç»´åº¦æ•°å’Œå½¢çŠ¶åˆ—è¡¨</span>
x.ndim, x.shape
<span class="hljs-comment">#Out[6]: (1, TensorShape([96]))</span></code></pre>

<p>é€šè¿‡ tf.reshape(x, new_shape)ï¼Œå¯ä»¥å°†å¼ é‡çš„è§†å›¾ä»»æ„åœ°åˆæ³•æ”¹å˜ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="hljs python">tf.reshape(x, [<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>])
<span class="hljs-comment">#Out[7]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 48), dtype=int32, numpy=</span>
<span class="hljs-comment">#array([[ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15,</span>
<span class="hljs-comment">#        16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,</span>
<span class="hljs-comment">#        32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47],</span>
<span class="hljs-comment">#       [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63,</span>
<span class="hljs-comment">#        64, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79,</span>
<span class="hljs-comment">#        80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95]])&gt;</span></code></pre>

<p>å…¶ä¸­çš„å‚æ•°âˆ’1è¡¨ç¤ºå½“å‰è½´ä¸Šé•¿åº¦éœ€è¦æ ¹æ®å¼ é‡æ€»å…ƒç´ ä¸å˜çš„æ³•åˆ™è‡ªåŠ¨æ¨å¯¼ï¼Œä»è€Œæ–¹ä¾¿ç”¨æˆ·ä¹¦å†™<br>$$<br>\frac{2<em>4</em>4*3}{2}=48<br>$$</p>
<p>å†æ¬¡æ”¹å˜æ•°æ®çš„è§†å›¾ä¸º[2,16,3] ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs python">tf.reshape(x, [<span class="hljs-number">2</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">3</span>])
<span class="hljs-comment">#Out[8]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 16, 3), dtype=int32, numpy=</span>
<span class="hljs-comment">#array([[[ 0,  1,  2],...,</span>
<span class="hljs-comment">#        [45, 46, 47]],...,</span></code></pre>

<h2 id="å¢ã€åˆ ç»´åº¦"><a href="#å¢ã€åˆ ç»´åº¦" class="headerlink" title="å¢ã€åˆ ç»´åº¦"></a>å¢ã€åˆ ç»´åº¦</h2><h3 id="å¢åŠ ç»´åº¦"><a href="#å¢åŠ ç»´åº¦" class="headerlink" title="å¢åŠ ç»´åº¦"></a>å¢åŠ ç»´åº¦</h3><p>è€ƒè™‘ä¸€ä¸ªå…·ä½“ä¾‹å­ï¼Œä¸€å¼ 28 Ã— 28å¤§å°çš„ç°åº¦å›¾ç‰‡çš„æ•°æ®ä¿å­˜ä¸ºshape ä¸º[28,28]çš„å¼ é‡ï¼Œåœ¨æœ«å°¾ç»™å¼ é‡å¢åŠ ä¸€æ–°ç»´åº¦ï¼Œå®šä¹‰ä¸ºé€šé“æ•°ç»´åº¦ï¼Œæ­¤æ—¶å¼ é‡çš„shape å˜ä¸º[28,28,1]ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="hljs python"><span class="hljs-comment"># äº§ç”ŸçŸ©é˜µ</span>
x = tf.random.uniform([<span class="hljs-number">28</span>, <span class="hljs-number">28</span>], maxval=<span class="hljs-number">10</span>, dtype=tf.int32)
print(x)
<span class="hljs-comment">#tf.Tensor(</span>
<span class="hljs-comment">#[[4 6 9 7 5 8 5 8 5 6 1 6 3 1 6 1 2 9 2 0 0 2 1 7 1 3 1 7]...</span>
<span class="hljs-comment"># [4 1 6 5 8 1 8 0 5 9 4 5 6 5 4 0 8 1 0 8 1 1 5 8 7 1 7 9]], shape=(28, 28), dtype=int32)</span>

<span class="hljs-comment"># é€šè¿‡tf.expand_dims(x, axis)å¯åœ¨æŒ‡å®šçš„axis è½´å‰å¯ä»¥æ’å…¥ä¸€ä¸ªæ–°çš„ç»´åº¦ï¼š</span>
<span class="hljs-comment"># axis=2 è¡¨ç¤ºå®½ç»´åº¦åé¢çš„ä¸€ä¸ªç»´åº¦</span>
x = tf.expand_dims(x, axis=<span class="hljs-number">2</span>)
print(x)
<span class="hljs-comment">#tf.Tensor(</span>
<span class="hljs-comment">#[[[4]...</span>
<span class="hljs-comment">#  [9]]], shape=(28, 28, 1), dtype=int32)</span>

<span class="hljs-comment"># é«˜ç»´åº¦ä¹‹å‰æ’å…¥æ–°ç»´åº¦</span>
x = tf.expand_dims(x, axis=<span class="hljs-number">0</span>)
print(x)
<span class="hljs-comment">#tf.Tensor(</span>
<span class="hljs-comment">#[[[[4]...</span>
<span class="hljs-comment">#   [9]]]], shape=(1, 28, 28, 1), dtype=int32)</span></code></pre>

<h3 id="åˆ é™¤ç»´åº¦"><a href="#åˆ é™¤ç»´åº¦" class="headerlink" title="åˆ é™¤ç»´åº¦"></a>åˆ é™¤ç»´åº¦</h3><p>é€šè¿‡tf.squeeze(x, axis)å‡½æ•°ï¼Œaxis å‚æ•°ä¸ºå¾…åˆ é™¤çš„ç»´åº¦çš„ç´¢å¼•å·</p>
<pre><code class="hljs python"><span class="hljs-comment"># åˆ é™¤å›¾ç‰‡æ•°é‡ç»´åº¦</span>
x = tf.squeeze(x, axis=<span class="hljs-number">0</span>)
print(x)
<span class="hljs-comment">#tf.Tensor(</span>
<span class="hljs-comment">#[[[4]...</span>
<span class="hljs-comment">#  [9]]], shape=(28, 28, 1), dtype=int32)</span>

<span class="hljs-comment"># åˆ é™¤å›¾ç‰‡é€šé“æ•°ç»´åº¦</span>
x = tf.squeeze(x, axis=<span class="hljs-number">2</span>)
print(x)
<span class="hljs-comment">#tf.Tensor(</span>
<span class="hljs-comment">#[[4 6 9 7 5 8 5 8 5 6 1 6 3 1 6 1 2 9 2 0 0 2 1 7 1 3 1 7]...</span>
<span class="hljs-comment"># [4 1 6 5 8 1 8 0 5 9 4 5 6 5 4 0 8 1 0 8 1 1 5 8 7 1 7 9]], shape=(28, 28), dtype=int32)</span></code></pre>

<p>å¦‚æœä¸æŒ‡å®šç»´åº¦å‚æ•° axisï¼Œå³tf.squeeze(x)ï¼Œé‚£ä¹ˆå®ƒä¼šé»˜è®¤åˆ é™¤æ‰€æœ‰é•¿åº¦ä¸º1çš„ç»´åº¦ã€‚</p>
<pre><code class="hljs python">x = tf.random.uniform([<span class="hljs-number">1</span>, <span class="hljs-number">28</span>, <span class="hljs-number">28</span>, <span class="hljs-number">1</span>], maxval=<span class="hljs-number">10</span>, dtype=tf.int32)
<span class="hljs-comment"># åˆ é™¤æ‰€æœ‰é•¿åº¦ä¸º1çš„ç»´åº¦</span>
tf.squeeze(x)
<span class="hljs-comment">#Out[15]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(28, 28), dtype=int32, numpy=</span>
<span class="hljs-comment">#array([[0, 8, 3, 2, 3, 3, 0, 5, 0, 1, 4, 7, 6, 7, 2, 3, 2, 6, 5, 1, 5, 6,</span>
<span class="hljs-comment">#        5, 1, 3, 1, 9, 0],</span></code></pre>

<h3 id="äº¤æ¢ç»´åº¦"><a href="#äº¤æ¢ç»´åº¦" class="headerlink" title="äº¤æ¢ç»´åº¦"></a>äº¤æ¢ç»´åº¦</h3><pre><code class="hljs python">x = tf.random.normal([<span class="hljs-number">2</span>, <span class="hljs-number">32</span>, <span class="hljs-number">32</span>, <span class="hljs-number">3</span>])
<span class="hljs-comment"># äº¤æ¢ç»´åº¦</span>
tf.transpose(x, perm=[<span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>])
<span class="hljs-comment">#Out[16]: </span>
<span class="hljs-comment">#&lt;tf.Tensor: shape=(2, 3, 32, 32), dtype=float32, numpy=</span>
<span class="hljs-comment">#array([[[[-7.99596786e-01, -5.61527647e-02, -9.59246576e-01, ...,</span></code></pre>

<h3 id="å¤åˆ¶æ•°æ®"><a href="#å¤åˆ¶æ•°æ®" class="headerlink" title="å¤åˆ¶æ•°æ®"></a>å¤åˆ¶æ•°æ®</h3><pre><code class="hljs python"><span class="hljs-comment"># åˆ›å»ºå‘é‡b</span>
b = tf.constant([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>])
<span class="hljs-comment"># æ’å…¥æ–°ç»´åº¦ï¼Œå˜æˆçŸ©é˜µ</span>
b = tf.expand_dims(b, axis=<span class="hljs-number">0</span>)
print(b)
<span class="hljs-comment">#tf.Tensor([[1 2]], shape=(1, 2), dtype=int32)</span>
<span class="hljs-comment"># æ ·æœ¬ç»´åº¦ä¸Šå¤åˆ¶ä¸€ä»½</span>
b = tf.tile(b, multiples=[<span class="hljs-number">2</span>, <span class="hljs-number">3</span>])
print(b)
<span class="hljs-comment">#tf.Tensor(</span>
<span class="hljs-comment">#[[1 2 1 2 1 2]</span>
<span class="hljs-comment"># [1 2 1 2 1 2]], shape=(2, 6), dtype=int32)</span></code></pre>
















































            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/TensorFlow/">TensorFlow</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/Tensorflow/">Tensorflow</a>
                    
                      <a class="hover-with-bg" href="/tags/Python/">Python</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2020/04/06/2020-4-6-Markdown%E6%95%B0%E5%AD%A6%E5%85%AC%E5%BC%8F%E8%AF%AD%E6%B3%95/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Markdownæ•°å­¦å…¬å¼è¯­æ³•</span>
                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2020/03/10/Django/2020-3-10-Django_rest_framework_jwt/">
                        <span class="hidden-mobile">Django_rest_framework_jwt</span>
                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    

    
  <!-- å¤‡æ¡ˆä¿¡æ¯ -->
  <div class="beian">
    <a href="http://beian.miit.gov.cn/" target="_blank"
       rel="nofollow noopener">è‹ICPå¤‡19010124å·</a>
    
  </div>


    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/debouncer.js" ></script>
<script  src="/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/js/lazyload.js" ></script>
  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>







  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "TensorFlowåŸºç¡€&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>




















</body>
</html>
